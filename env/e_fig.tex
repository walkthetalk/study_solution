\setupexternalfigures[%
  %order={pdf,png,jpg},
  location={local,global},
  %directory={../output,./output,/mnt/work/arm11plf-code/CLRS_notes/output/}
]

% \setupmakeup[name][
%width	dimension
%height	dimension
%voffset	dimension
%hoffset	dimension
%page	left yes right
%commands	command
%doublesided	yes no empty
%headerstate	normal stop start empty none nomarking
%footerstate	normal stop start empty none nomarking
%textstate	normal stop start empty none nomarking
%topstate	stop start
%bottomstate	stop start
%pagestate	stop start
%color	name
%]

\definelayout[frontCover]
\definemakeup[frontCover][
  page=right,
  doublesided=no,
  headerstate=none,
  footerstate=none,
  pagestate=stop,
]
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% fig %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\defineframed[mplabel][frame=off,align=middle]
\define[1]\mplabel{%
\rm\itx%
\framed[frame=off,align=middle]{#1}%
}

\startMPinclusions
\stopMPinclusions


\startuniqueMPgraphic{frontcoverBG}
    path p;
    u := 1cm; w := OverlayWidth; h := OverlayHeight;
    roundcorner := 8pt; offset := 12pt;

    color shade;
    shade := (.6,.6,.6);

    for i = 0 step .02 until 1:
        fill unitsquare xyscaled (w-i*u,h-i*u) squeezed (8pt,6pt)
             shifted (offset+i*u/2,-offset+i*u/2)
             withcolor transparent (1,.1,shade);
    endfor;

    p := unitsquare xyscaled (w, h) shifted (offset/2, -offset/2) squeezed (8pt,6pt);
    fill p withcolor \MPcolor{gray};
    draw p withcolor (0.6,0.8,1);
\stopuniqueMPgraphic
\defineoverlay[frontcoverBG][\uniqueMPgraphic{frontcoverBG}]
